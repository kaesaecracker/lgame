(this.webpackJsonplgame=this.webpackJsonplgame||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(14)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(4),a=n.n(i),c=(n(10),n(2)),l=n(1);n(11),n(12);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=e.text,n=e.row,i=e.col,a=e.onClick,c=e.color,l=e.fontColor,s=e.keys;return Object(r.useEffect)((function(){if(s&&a){var e=function(e){s.includes(e.key.toLowerCase())&&a(e)};return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}}}),[s,a]),o.a.createElement("div",{className:"RemoteItem",onClick:a,style:{"--col":i,"--row":n,"--remote-button-color":c,"--remote-button-font-color":l}},t)}function y(e){var t=e.direction,n=e.onClick,r={color:"var(--normal-color)",fontColor:"black",onClick:function(e){return n(u({},e,{direction:t}))},keys:e.keys};switch(t){case"left":return o.a.createElement(f,Object.assign({text:"Left",row:2,col:1},r));case"right":return o.a.createElement(f,Object.assign({text:"Right",row:2,col:3},r));case"up":return o.a.createElement(f,Object.assign({text:"Up",row:1,col:2},r));case"down":return o.a.createElement(f,Object.assign({text:"Down",row:2,col:2},r));default:return console.error("Invalid direction",{direction:t}),null}}function d(e){var t=e.state,n=e.setState;return o.a.createElement(f,{text:"Flip",row:1,col:1,color:t.flipEnabled?"var(--highlight-color)":"var(--extra-color)",onClick:function(e){return n(u({},t,{flipEnabled:!t.flipEnabled,rotateEnabled:!1}))}})}function v(e){var t=e.state,n=e.setState;return o.a.createElement(f,{text:"Rotate",row:1,col:3,color:t.rotateEnabled?"var(--highlight-color)":"var(--extra-color)",onClick:function(e){return n(u({},t,{rotateEnabled:!t.rotateEnabled,flipEnabled:!1}))}})}var b=function(e){var t=e.extraButtons,n=e.state,r=e.setState,i=e.onMoveClick,a=e.onRotateClick,c=e.onFlipClick,l=e.onUndoClick,s=e.onDoneClick,u=n.rotateEnabled?a:n.flipEnabled?c:i;return o.a.createElement("div",{className:"Remote"},o.a.createElement(y,{direction:"left",onClick:u,keys:["arrowleft","1","a"]}),o.a.createElement(y,{direction:"up",onClick:u,keys:["arrowup","5","w"]}),o.a.createElement(y,{direction:"down",onClick:u,keys:["arrowdown","2","s"]}),o.a.createElement(y,{direction:"right",onClick:u,keys:["arrowright","3","d"]}),t?o.a.createElement(o.a.Fragment,null,o.a.createElement(d,{state:n,setState:r,keys:["4","f"],onClick:c}),o.a.createElement(v,{state:n,setState:r,keys:["6","r"],onClick:a})):null,o.a.createElement(f,{text:"Undo",row:1,col:4,color:"red",keys:["+","z"],onClick:l}),o.a.createElement(f,{text:"Done",row:2,col:4,color:"green",keys:["enter"],onClick:s}))};n(13);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t={"--x":e.x,"--y":e.y,"--color":e.color};return e.round&&(t["--border-radius"]="50%"),o.a.createElement("div",{className:"Square",style:t,onClick:e.onClick})}var O=function(e){var t=e.positions,n=e.color,r=e.onClick,i=e.invisible,a=e.round;if(i)return null;if(!t||t.length<1)return console.error("invalid l position",{positions:t}),null;n||(n="grey");var c=[],s=!0,u=!1,f=void 0;try{for(var y,d=t.entries()[Symbol.iterator]();!(s=(y=d.next()).done);s=!0){var v=y.value,b=Object(l.a)(v,2),p=b[0],m=b[1];c.push(o.a.createElement(h,{key:p,color:n,x:m.x,y:m.y,onClick:r,round:a}))}}catch(O){u=!0,f=O}finally{try{s||null==d.return||d.return()}finally{if(u)throw f}}return o.a.createElement(o.a.Fragment,null,c)};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(){var e=Object(r.useState)({positions:[{x:1,y:1}]}),t=Object(l.a)(e,1)[0],n=Object(r.useState)({positions:[{x:4,y:4}]}),i=Object(l.a)(n,1)[0],a=Object(r.useState)({color:"orange",positions:[{x:2,y:2},{x:2,y:3},{x:2,y:4},{x:3,y:4}]}),c=Object(l.a)(a,2),s=c[0],u=c[1],f=Object(r.useState)({color:"blue",positions:[{x:2,y:1},{x:3,y:1},{x:3,y:2},{x:3,y:3}]}),y=Object(l.a)(f,2),d=y[0],v=y[1],p=Object(r.useState)({color:"",positions:[],invisible:!0,collides:!0}),h=Object(l.a)(p,2),g=h[0],j=h[1],k=function(){return j(w({},g,{invisible:!0,positions:[],collides:!0}))},E=Object(r.useState)({numberOfTurns:0,turnPhase:"move-l",currentPlayer:"one"}),x=Object(l.a)(E,2),P=x[0],C=x[1],S=Object(r.useState)({flipEnabled:!1,rotateEnabled:!1}),D=Object(l.a)(S,2),R=D[0],F=D[1],L="one"===P.currentPlayer?[s,u]:[d,v],N=Object(l.a)(L,2),T=N[0],U=N[1],W="one"===P.currentPlayer?[d,v]:[s,u],A=Object(l.a)(W,1)[0];return console.log("board: ",{coinOne:t,coinTwo:i,elOne:s,elTwo:d,gameState:P,remoteState:R}),o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Turns: ",P.numberOfTurns," - Player ",P.currentPlayer," -"," ","move-l"===P.turnPhase?"Move the L":"move-coin"===P.turnPhase),o.a.createElement("div",{className:"Board"},o.a.createElement(O,Object.assign({},t,{round:!0})),o.a.createElement(O,Object.assign({},i,{round:!0})),o.a.createElement(O,s),o.a.createElement(O,d),o.a.createElement(O,g)),o.a.createElement(b,{extraButtons:"move-l"===P.turnPhase,state:R,setState:F,onMoveClick:"move-l"===P.turnPhase?function(e){var n=e.direction;g.invisible&&(g.invisible=!1,g.positions=T.positions),g.positions=function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e.entries()[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var s=a.value,u=Object(l.a)(s,2)[1],f={left:m({},u,{x:u.x-1,y:u.y}),right:m({},u,{x:u.x+1,y:u.y}),up:m({},u,{x:u.x,y:u.y-1}),down:m({},u,{x:u.x,y:u.y+1})}[t];if(f.x<1||f.x>4||f.y<1||f.y>4)return e;n.push(f)}}catch(y){o=!0,i=y}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(g.positions,n);var r=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t.entries()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value,s=Object(l.a)(c,2)[1],u=!0,f=!1,y=void 0;try{for(var d,v=e.positions.entries()[Symbol.iterator]();!(u=(d=v.next()).done);u=!0){var b=d.value,p=Object(l.a)(b,2)[1],m=!0,h=!1,O=void 0;try{for(var g,w=s.positions.entries()[Symbol.iterator]();!(m=(g=w.next()).done);m=!0){var j=g.value,k=Object(l.a)(j,2)[1];if(p.x===k.x&&p.y===k.y)return!0}}catch(E){h=!0,O=E}finally{try{m||null==w.return||w.return()}finally{if(h)throw O}}}}catch(E){f=!0,y=E}finally{try{u||null==v.return||v.return()}finally{if(f)throw y}}}}catch(E){r=!0,o=E}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return!1}(g,[A,t,i])||function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=e.entries()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value,s=Object(l.a)(c,2)[1],u=!1;console.log("looking for",s,"in",t);for(var f=0;f<t.length&&!u;f++)u=s.x===t[f].x&&s.y===t[f].y,console.log(u,"checking",s,"=",t[f]);if(!u)return!1}}catch(y){r=!0,o=y}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return!0}(g.positions,T.positions);j(w({},g,{color:r?"red":"green",collides:r}))}:function(){},onRotateClick:"move-l"===P.turnPhase?function(e){var t=e.direction;console.log("Rotate clicked",{direction:t}),"move-l"===P.turnPhase?F(w({},R,{rotateEnabled:!1})):console.error("Rotate not allowed")}:function(){},onFlipClick:"move-l"===P.turnPhase?function(e){var t=e.direction;console.log("Flip clicked",{direction:t}),"move-l"===P.turnPhase?F(w({},R,{flipEnabled:!1})):console.error("Flip not allowed")}:function(){},onDoneClick:"move-l"===P.turnPhase?function(){g.invisible||!g.collides?(U(w({},T,{positions:g.positions})),k(),C(w({},P,{turnPhase:"move-coin"}))):console.log("cannot move, l not moved or collides")}:function(){},onUndoClick:"move-l"===P.turnPhase?function(){"move-l"===P.turnPhase&&k()}:function(){}}))}var k=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(j,null))},E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(o.a.createElement(k,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/lgame",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/lgame","/service-worker.js");E?(!function(e,t){fetch(e).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):x(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):x(t,e)}))}}()}],[[5,1,2]]]);
//# sourceMappingURL=main.80979566.chunk.js.map