{"version":3,"sources":["Remote.js","Stone.js","App.js","serviceWorker.js","index.js"],"names":["RemoteItem","text","row","col","onClick","color","fontColor","keys","useEffect","onKeyUp","event","includes","key","toLowerCase","window","addEventListener","removeEventListener","className","style","ArrowRemoteItem","direction","commonProps","console","error","FlipRemoteItem","state","setState","flipEnabled","rotateEnabled","RotateRemoteItem","Remote","extraButtons","onMoveClick","onRotateClick","onFlipClick","onUndoClick","onDoneClick","onArrowClick","Square","props","x","y","round","Stone","positions","invisible","length","squares","entries","i","pos","push","Board","useState","coinOne","coinTwo","elOne","setElOne","elTwo","setElTwo","collides","elTemp","setElTemp","resetElTemp","numberOfTurns","turnPhase","currentPlayer","gameState","setGameState","remoteState","setRemoteState","ownL","setOwnL","otherL","log","origPositions","newPositions","newPos","left","right","up","down","movePositions","own","otherStones","other","ownPos","otherPos","checkForCollisions","positionsA","positionsB","posA","found","checkPositionsEqual","App","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","document","getElementById","URL","process","href","origin","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.80979566.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport \"./Remote.css\";\n\nfunction RemoteItem({ text, row, col, onClick, color, fontColor, keys }) {\n  useEffect(() => {\n    if (!keys || !onClick) return;\n\n    const onKeyUp = event => {\n      if (keys.includes(event.key.toLowerCase())) onClick(event);\n    };\n\n    window.addEventListener(\"keyup\", onKeyUp);\n    return () => window.removeEventListener(\"keyup\", onKeyUp);\n  }, [keys, onClick]);\n\n  return (\n    <div\n      className=\"RemoteItem\"\n      onClick={onClick}\n      style={{\n        \"--col\": col,\n        \"--row\": row,\n        \"--remote-button-color\": color,\n        \"--remote-button-font-color\": fontColor\n      }}\n    >\n      {text}\n    </div>\n  );\n}\n\nfunction ArrowRemoteItem({ direction, onClick, keys }) {\n  const onArrowClick = event => onClick({ ...event, direction });\n  const commonProps = {\n    color: \"var(--normal-color)\",\n    fontColor: \"black\",\n    onClick: onArrowClick,\n    keys: keys\n  };\n\n  switch (direction) {\n    case \"left\":\n      return <RemoteItem text=\"Left\" row={2} col={1} {...commonProps} />;\n    case \"right\":\n      return <RemoteItem text=\"Right\" row={2} col={3} {...commonProps} />;\n    case \"up\":\n      return <RemoteItem text=\"Up\" row={1} col={2} {...commonProps} />;\n    case \"down\":\n      return <RemoteItem text=\"Down\" row={2} col={2} {...commonProps} />;\n    default:\n      console.error(\"Invalid direction\", { direction });\n      return null;\n  }\n}\n\nfunction FlipRemoteItem({ state, setState }) {\n  const onFlipClick = event =>\n    setState({\n      ...state,\n      flipEnabled: !state.flipEnabled,\n      rotateEnabled: false\n    });\n\n  return (\n    <RemoteItem\n      text=\"Flip\"\n      row={1}\n      col={1}\n      color={\n        state.flipEnabled ? \"var(--highlight-color)\" : \"var(--extra-color)\"\n      }\n      onClick={onFlipClick}\n    />\n  );\n}\n\nfunction RotateRemoteItem({ state, setState }) {\n  const onRotateClick = event =>\n    setState({\n      ...state,\n      rotateEnabled: !state.rotateEnabled,\n      flipEnabled: false\n    });\n\n  return (\n    <RemoteItem\n      text=\"Rotate\"\n      row={1}\n      col={3}\n      color={\n        state.rotateEnabled ? \"var(--highlight-color)\" : \"var(--extra-color)\"\n      }\n      onClick={onRotateClick}\n    />\n  );\n}\n\nfunction Remote({\n  extraButtons,\n  state,\n  setState,\n  onMoveClick,\n  onRotateClick,\n  onFlipClick,\n  onUndoClick,\n  onDoneClick\n}) {\n  const onArrowClick = state.rotateEnabled\n    ? onRotateClick\n    : state.flipEnabled\n    ? onFlipClick\n    : onMoveClick;\n\n  return (\n    <div className=\"Remote\">\n      <ArrowRemoteItem\n        direction=\"left\"\n        onClick={onArrowClick}\n        keys={[\"arrowleft\", \"1\", \"a\"]}\n      />\n      <ArrowRemoteItem\n        direction=\"up\"\n        onClick={onArrowClick}\n        keys={[\"arrowup\", \"5\", \"w\"]}\n      />\n      <ArrowRemoteItem\n        direction=\"down\"\n        onClick={onArrowClick}\n        keys={[\"arrowdown\", \"2\", \"s\"]}\n      />\n      <ArrowRemoteItem\n        direction=\"right\"\n        onClick={onArrowClick}\n        keys={[\"arrowright\", \"3\", \"d\"]}\n      />\n\n      {extraButtons ? (\n        <>\n          <FlipRemoteItem\n            state={state}\n            setState={setState}\n            keys={[\"4\", \"f\"]}\n            onClick={onFlipClick}\n          />\n          <RotateRemoteItem\n            state={state}\n            setState={setState}\n            keys={[\"6\", \"r\"]}\n            onClick={onRotateClick}\n          />\n        </>\n      ) : null}\n\n      <RemoteItem\n        text=\"Undo\"\n        row={1}\n        col={4}\n        color=\"red\"\n        keys={[\"+\", \"z\"]}\n        onClick={onUndoClick}\n      />\n      <RemoteItem\n        text=\"Done\"\n        row={2}\n        col={4}\n        color=\"green\"\n        keys={[\"enter\"]}\n        onClick={onDoneClick}\n      />\n    </div>\n  );\n}\n\nexport default Remote;\n","import React from \"react\";\nimport \"./Stone.css\";\n\nfunction checkForCollisions(own, otherStones) {\n  for (const [, other] of otherStones.entries()) {\n    for (const [, ownPos] of own.positions.entries()) {\n      for (const [, otherPos] of other.positions.entries()) {\n        if (ownPos.x === otherPos.x && ownPos.y === otherPos.y) return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction movePositions(origPositions, direction) {\n  const newPositions = [];\n  for (const [, pos] of origPositions.entries()) {\n    const newPos = {\n      left: { ...pos, x: pos.x - 1, y: pos.y },\n      right: { ...pos, x: pos.x + 1, y: pos.y },\n      up: { ...pos, x: pos.x, y: pos.y - 1 },\n      down: { ...pos, x: pos.x, y: pos.y + 1 }\n    }[direction];\n\n    if (newPos.x < 1 || newPos.x > 4 || newPos.y < 1 || newPos.y > 4)\n      return origPositions;\n\n    newPositions.push(newPos);\n  }\n\n  return newPositions;\n}\n\nfunction checkPositionsEqual(positionsA, positionsB) {\n  for (const [, posA] of positionsA.entries()) {\n    let found = false;\n    console.log(\"looking for\", posA, \"in\", positionsB);\n    for (let i = 0; i < positionsB.length && !found; i++) {\n      found = posA.x === positionsB[i].x && posA.y === positionsB[i].y;\n      console.log(found, \"checking\", posA, \"=\", positionsB[i]);\n    }\n\n    if (!found) return false;\n  }\n\n  return true;\n}\n\nfunction Square(props) {\n  const style = {\n    \"--x\": props.x,\n    \"--y\": props.y,\n    \"--color\": props.color\n  };\n  if (props.round) style[\"--border-radius\"] = \"50%\";\n  return <div className=\"Square\" style={style} onClick={props.onClick} />;\n}\n\nfunction Stone({ positions, color, onClick, invisible, round }) {\n  if (invisible) return null;\n\n  if (!positions || positions.length < 1) {\n    console.error(\"invalid l position\", { positions });\n    return null;\n  }\n\n  if (!color) color = \"grey\";\n\n  const squares = [];\n  for (const [i, pos] of positions.entries()) {\n    squares.push(\n      <Square\n        key={i}\n        color={color}\n        x={pos.x}\n        y={pos.y}\n        onClick={onClick}\n        round={round}\n      />\n    );\n  }\n\n  return <>{squares}</>;\n}\nexport default Stone;\nexport { checkForCollisions, movePositions, checkPositionsEqual };\n","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport Remote from \"./Remote.js\";\nimport Stone, {\n  checkForCollisions,\n  movePositions,\n  checkPositionsEqual\n} from \"./Stone.js\";\n\nfunction Board() {\n  const [coinOne] = useState({ positions: [{ x: 1, y: 1 }] });\n  const [coinTwo] = useState({ positions: [{ x: 4, y: 4 }] });\n  const [elOne, setElOne] = useState({\n    color: \"orange\",\n    positions: [{ x: 2, y: 2 }, { x: 2, y: 3 }, { x: 2, y: 4 }, { x: 3, y: 4 }]\n  });\n  const [elTwo, setElTwo] = useState({\n    color: \"blue\",\n    positions: [{ x: 2, y: 1 }, { x: 3, y: 1 }, { x: 3, y: 2 }, { x: 3, y: 3 }]\n  });\n  const [elTemp, setElTemp] = useState({\n    color: \"\",\n    positions: [],\n    invisible: true,\n    collides: true\n  });\n  const resetElTemp = () =>\n    setElTemp({ ...elTemp, invisible: true, positions: [], collides: true });\n\n  const [gameState, setGameState] = useState({\n    numberOfTurns: 0,\n    turnPhase: \"move-l\",\n    currentPlayer: \"one\"\n  });\n  const [remoteState, setRemoteState] = useState({\n    flipEnabled: false,\n    rotateEnabled: false\n  });\n\n  const [ownL, setOwnL] =\n    gameState.currentPlayer === \"one\" ? [elOne, setElOne] : [elTwo, setElTwo];\n  const [otherL] =\n    gameState.currentPlayer === \"one\" ? [elTwo, setElTwo] : [elOne, setElOne];\n\n  const onMoveOwnLClick = ({ direction }) => {\n    if (elTemp.invisible) {\n      elTemp.invisible = false;\n      elTemp.positions = ownL.positions;\n    }\n\n    elTemp.positions = movePositions(elTemp.positions, direction);\n    const collides =\n      checkForCollisions(elTemp, [otherL, coinOne, coinTwo]) ||\n      checkPositionsEqual(elTemp.positions, ownL.positions);\n\n    setElTemp({\n      ...elTemp,\n      color: collides ? \"red\" : \"green\",\n      collides: collides\n    });\n  };\n\n  const onRotateLClick = ({ direction }) => {\n    console.log(\"Rotate clicked\", { direction });\n    if (gameState.turnPhase !== \"move-l\") {\n      console.error(\"Rotate not allowed\");\n      return;\n    }\n\n    setRemoteState({ ...remoteState, rotateEnabled: false });\n    // TODO rotate\n  };\n\n  const onFlipLClick = ({ direction }) => {\n    console.log(\"Flip clicked\", { direction });\n    if (gameState.turnPhase !== \"move-l\") {\n      console.error(\"Flip not allowed\");\n      return;\n    }\n\n    setRemoteState({ ...remoteState, flipEnabled: false });\n    // TODO flip\n  };\n\n  const onUndoLClick = () => {\n    if (gameState.turnPhase === \"move-l\") resetElTemp();\n  };\n\n  const onMoveLDoneClick = () => {\n    if (!elTemp.invisible && elTemp.collides) {\n      console.log(\"cannot move, l not moved or collides\");\n      return;\n    }\n\n    setOwnL({ ...ownL, positions: elTemp.positions });\n    resetElTemp();\n    setGameState({ ...gameState, turnPhase: \"move-coin\" });\n  };\n\n  console.log(\"board: \", {\n    coinOne,\n    coinTwo,\n    elOne,\n    elTwo,\n    gameState,\n    remoteState\n  });\n  return (\n    <>\n      <h2>\n        Turns: {gameState.numberOfTurns} - Player {gameState.currentPlayer} -{\" \"}\n        {gameState.turnPhase === \"move-l\"\n          ? \"Move the L\"\n          : gameState.turnPhase === \"move-coin\"}\n      </h2>\n      <div className=\"Board\">\n        <Stone {...coinOne} round={true} />\n        <Stone {...coinTwo} round={true} />\n        <Stone {...elOne} />\n        <Stone {...elTwo} />\n        <Stone {...elTemp} />\n      </div>\n      <Remote\n        extraButtons={gameState.turnPhase === \"move-l\"}\n        state={remoteState}\n        setState={setRemoteState}\n        onMoveClick={\n          gameState.turnPhase === \"move-l\" ? onMoveOwnLClick : () => {}\n        }\n        onRotateClick={\n          gameState.turnPhase === \"move-l\" ? onRotateLClick : () => {}\n        }\n        onFlipClick={gameState.turnPhase === \"move-l\" ? onFlipLClick : () => {}}\n        onDoneClick={\n          gameState.turnPhase === \"move-l\" ? onMoveLDoneClick : () => {}\n        }\n        onUndoClick={gameState.turnPhase === \"move-l\" ? onUndoLClick : () => {}}\n      />\n    </>\n  );\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Board />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}